# 目录

## Ep1 基础设置 （没啥好说的）

## Ep2 碰撞

- 使用`LayerMask`控制物体间的碰撞与否。
- 使用`BoxCollider`作为碰撞器，由于是方形的，所以直接使用四个角为边界进行射线检测处理。
- 自定义上下左右检测碰撞信息。
- 射线检测时，可以定义多条射线，一旦有一条射线碰到地形，便同步其他所有射线。

## Ep3 跳跃

### 关于跳跃属性定义

- 比起直接用速度，可以使用 `跳跃高度(jumpHeight)` 和 `到达最高点的时间(timeToJumpApex)`来更加精准定义跳跃。

### 从一帧到下一帧之间的物体移动量

> deltaMovement = velocityInitial * t + (a * t^2) / 2

加速度与位移关系

### 带入数据得最高点

> jumpHeight = (gravity * time ) / 2

### 使用SmoothDamp添加平滑阻尼

# Ep4 斜面攀爬

- 使用横向射线，检测物体表面法向量，与up向量的夹角，切分速度后，做一个x方向，y方向的速度。
- 注意去掉skinWidth的距离。
- 注意爬坡时，除碰撞射线外，其余射线的检测

# Ep5 斜面下坡

## 处理斜面夹角处

处理方式为，当之前的垂直检测结束后，使用当前爬坡速度的x和y，作射线检测，进行下一段斜面的x方向速度计算。

## 下坡处理

- 添加最大下坡角度
- 添加了两反向交叉斜坡间的平滑过渡

# Ep6 基础移动平台

- 先抽象出了`RaycastController`。
- `MovePassengers`来影响平台上可被影响的物体。